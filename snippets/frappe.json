{
  "Frappe Python Get List": {
    "prefix": "frappe-getlist",
    "body": [
      "",
      "@frappe.whitelist()",
      "def get_${1:doctype}_list():",
      "    return frappe.get_list('${1:doctype}',",
      "        filters=${2:{}},",
      "        fields=${3:['name', 'creation']})"
    ],
    "description": "Get list of documents from a Doctype"
  },
  "Frappe Python Get Doc": {
    "prefix": "frappe-getdoc",
    "body": [
      "",
      "@frappe.whitelist()",
      "def get_${1:doctype}_doc(${2:name}):",
      "    return frappe.get_doc('${1:doctype}', ${2:name})"
    ],
    "description": "Get a single document by name"
  },
  "Frappe Python Insert": {
    "prefix": "frappe-insert",
    "body": [
      "",
      "@frappe.whitelist()",
      "def insert_${1:doctype}():",
      "    doc = frappe.get_doc({",
      "        'doctype': '${1:doctype}',",
      "        ${2:'field': 'value'}",
      "    })",
      "    doc.insert()",
      "    return doc"
    ],
    "description": "Insert a new document in Frappe"
  },
  "Frappe Python Update": {
    "prefix": "frappe-update",
    "body": [
      "",
      "@frappe.whitelist()",
      "def update_${1:doctype}(${2:name}):",
      "    doc = frappe.get_doc('${1:doctype}', ${2:name})",
      "    doc.${3:field} = ${4:value}",
      "    doc.save()",
      "    return doc"
    ],
    "description": "Update an existing document"
  },
  "Frappe Python Delete": {
    "prefix": "frappe-delete",
    "body": [
      "",
      "@frappe.whitelist()",
      "def delete_${1:doctype}(${2:name}):",
      "    frappe.delete_doc('${1:doctype}', ${2:name})",
      "    return 'Deleted successfully'"
    ],
    "description": "Delete a document in Frappe"
  },
  "Bench Start": {
    "prefix": "bench-start",
    "body": [
      "bench start"
    ],
    "description": "Start the Frappe development server"
  },
  "Bench New App": {
    "prefix": "bench-newapp",
    "body": [
      "bench new-app ${1:app_name}"
    ],
    "description": "Create a new Frappe app"
  },
  "Bench New Site": {
    "prefix": "bench-newsite",
    "body": [
      "bench new-site ${1:site_name}"
    ],
    "description": "Create a new Frappe site"
  },
  "Bench Migrate": {
    "prefix": "bench-migrate",
    "body": [
      "bench migrate"
    ],
    "description": "Apply schema changes"
  },
  "Bench Restart": {
    "prefix": "bench-restart",
    "body": [
      "bench restart"
    ],
    "description": "Restart Frappe services"
  },
  "Jinja For Loop": {
    "prefix": "jinja-for",
    "body": [
      "{% for ${1:item} in ${2:items} %}",
      "  {{ ${1:item} }}",
      "{% endfor %}"
    ],
    "description": "Loop through items in Jinja template"
  },
  "Jinja If Condition": {
    "prefix": "jinja-if",
    "body": [
      "{% if ${1:condition} %}",
      "  ${2:content}",
      "{% endif %}"
    ],
    "description": "If condition in Jinja"
  },
  "Jinja If Else": {
    "prefix": "jinja-ifelse",
    "body": [
      "{% if ${1:condition} %}",
      "  ${2:content_if_true}",
      "{% else %}",
      "  ${3:content_if_false}",
      "{% endif %}"
    ],
    "description": "If-Else condition in Jinja"
  },
  
  "Frappe DB Count": {
    "prefix": "frappe-dbcount",
    "body": [
      "count = frappe.db.count(\"${1:DocType}\", {",
      "    \"${2:field}\": \"${3:value}\"",
      "})"
    ],
    "description": "Insert frappe.db.count snippet"
  },
  "Frappe Python Get All": {
    "prefix": "frappe-getall",
    "body": [
      "",
      "@frappe.whitelist()",
      "def get_all_${1:doctype}():",
      "    return frappe.get_all('${1:doctype}', fields=${2:['name']})"
    ],
    "description": "Get all documents from a DocType"
  },
  "Frappe Python Background Job": {
    "prefix": "frappe-bgjob",
    "body": [
      "from frappe import enqueue",
      "",
      "@frappe.whitelist()",
      "def start_${1:job_name}():",
      "    enqueue('${2:app.module.function}',",
      "        queue='${3:default}',",
      "        timeout=${4:300},",
      "        job_name='${1:job_name}')",
      "    return 'Job queued successfully'"
    ],
    "description": "Enqueue a background job"
  },
  "Frappe Python Scheduler Event": {
    "prefix": "frappe-scheduler",
    "body": [
      "",
      "def ${1:my_scheduled_task}():",
      "    ${2:# Your scheduled code here}"
    ],
    "description": "Define a scheduled task for hooks.py"
  },
  "Frappe Python Report Script": {
    "prefix": "frappe-report",
    "body": [
      "",
      "def execute(filters=None):",
      "    columns = [",
      "        {'label': 'Name', 'fieldname': 'name', 'fieldtype': 'Data', 'width': 150},",
      "        {'label': 'Creation', 'fieldname': 'creation', 'fieldtype': 'Datetime', 'width': 150}",
      "    ]",
      "    data = frappe.get_all('${1:DocType}', fields=['name', 'creation'])",
      "    return columns, data"
    ],
    "description": "Template for Frappe report script"
  },
  "Frappe Custom Script On Form Load": {
    "prefix": "frappe-formload",
    "body": [
      "frappe.ui.form.on('${1:DocType}', {",
      "    onload(frm) {",
      "        ${2:// Your onload code here}",
      "    }",
      "});"
    ],
    "description": "Client-side script for form onload event"
  },
  "Frappe Custom Script On Field Change": {
    "prefix": "frappe-fieldchange",
    "body": [
      "frappe.ui.form.on('${1:DocType}', {",
      "    ${2:fieldname}(frm) {",
      "        ${3:// Your field change code here}",
      "    }",
      "});"
    ],
    "description": "Trigger when a field value changes"
  },
  "Jinja Table Loop": {
    "prefix": "jinja-table",
    "body": [
      "<table>",
      "  <thead>",
      "    <tr>",
      "      <th>${1:Header 1}</th>",
      "      <th>${2:Header 2}</th>",
      "    </tr>",
      "  </thead>",
      "  <tbody>",
      "    {% for row in ${3:items} %}",
      "    <tr>",
      "      <td>{{ row.${4:field1} }}</td>",
      "      <td>{{ row.${5:field2} }}</td>",
      "    </tr>",
      "    {% endfor %}",
      "  </tbody>",
      "</table>"
    ],
    "description": "Jinja loop for table generation"
  },
  
  "Frappe Python REST GET": {
    "prefix": "frappe-restget",
    "body": [
      "import requests",
      "",
      "def get_data():",
      "    url = '${1:https://yoursite.com}/api/resource/${2:DocType}'",
      "    headers = {",
      "        'Authorization': 'token ${3:api_key}:${4:api_secret}'",
      "    }",
      "    res = requests.get(url, headers=headers)",
      "    return res.json()"
    ],
    "description": "Python: Call Frappe REST API (GET)"
  },
  "Frappe Python REST POST": {
    "prefix": "frappe-restpost",
    "body": [
      "import requests",
      "",
      "def create_doc():",
      "    url = '${1:https://yoursite.com}/api/resource/${2:DocType}'",
      "    headers = {",
      "        'Authorization': 'token ${3:api_key}:${4:api_secret}'",
      "    }",
      "    payload = {",
      "        '${5:fieldname}': '${6:value}'",
      "    }",
      "    res = requests.post(url, json=payload, headers=headers)",
      "    return res.json()"
    ],
    "description": "Python: Call Frappe REST API (POST)"
  },
  "Frappe JS REST Call": {
    "prefix": "frappe-jsrest",
    "body": [
      "frappe.call({",
      "    method: '${1:app.module.method}',",
      "    args: { ${2:arg_name}: ${3:value} },",
      "    callback: function(r) {",
      "        console.log(r.message);",
      "    }",
      "});"
    ],
    "description": "JavaScript: frappe.call wrapper"
  },
  "Frappe Workflow Change State": {
    "prefix": "frappe-workflow",
    "body": [
      "",
      "@frappe.whitelist()",
      "def change_state(${1:doctype}, ${2:name}, ${3:state}):",
      "    doc = frappe.get_doc(${1:doctype}, ${2:name})",
      "    doc.workflow_state = ${3:state}",
      "    doc.save(ignore_permissions=True)",
      "    return doc"
    ],
    "description": "Change Workflow State programmatically"
  },
  "Frappe Patch File": {
    "prefix": "frappe-patch",
    "body": [
      "",
      "def execute():",
      "    ${1:# Your patch logic here}",
      "    frappe.db.commit()"
    ],
    "description": "Template for a Frappe patch file"
  },
  "Frappe Debug Print": {
    "prefix": "frappe-debug",
    "body": [
      "",
      "def debug_me():",
      "    frappe.log_error(message=frappe.as_json(${1:variable}), title='Debug Log')"
    ],
    "description": "Log debug info to Frappe error log"
  },
  
  "Frappe Python Send Email": {
    "prefix": "frappe-email",
    "body": [
      "@frappe.whitelist()",
      "def send_email():",
      "    frappe.sendmail(",
      "        recipients=['${1:email@example.com}'],",
      "        subject='${2:Subject}',",
      "        message='${3:Hello from Frappe!}'",
      "    )",
      "    return 'Email sent successfully'"
    ],
    "description": "Send an email using Frappe"
  },
  "Frappe Python Logger": {
    "prefix": "frappe-logger",
    "body": [
      "def log_info():",
      "    frappe.log_error('Info message', 'Custom Log Title')"
    ],
    "description": "Write logs to Frappe Error Log"
  },
  "Frappe Get Value": {
    "prefix": "frappe-getvalue",
    "body": [
      "",
      "def get_value():",
      "    return frappe.db.get_value('${1:DocType}', ${2:name}, '${3:fieldname}')"
    ],
    "description": "Get a single field value directly from DB"
  },
  "Frappe Exists Check": {
    "prefix": "frappe-exists",
    "body": [
      "",
      "if frappe.db.exists('${1:DocType}', ${2:name}):",
      "    frappe.msgprint('${1:DocType} already exists')"
    ],
    "description": "Check if document exists in DB"
  },
  
  "Frappe Refresh Field": {
    "prefix": "frappe-refreshfield",
    "body": [
      "frappe.ui.form.on('${1:DocType}', {",
      "    refresh(frm) {",
      "        frm.refresh_field('${2:fieldname}');",
      "    }",
      "});"
    ],
    "description": "Refresh a field in client-side script"
  },
  "Frappe Set Field Value": {
    "prefix": "frappe-setvalue",
    "body": [
      "frappe.ui.form.on('${1:DocType}', {",
      "    refresh(frm) {",
      "        frm.set_value('${2:fieldname}', '${3:value}');",
      "    }",
      "});"
    ],
    "description": "Set field value in client-side script"
  },
  "Frappe Hide Field": {
    "prefix": "frappe-hidefield",
    "body": [
      "frappe.ui.form.on('${1:DocType}', {",
      "    refresh(frm) {",
      "        frm.set_df_property('${2:fieldname}', 'hidden', 1);",
      "    }",
      "});"
    ],
    "description": "Hide a field dynamically"
  },
  "Frappe Add Button": {
    "prefix": "frappe-addbutton",
    "body": [
      "frappe.ui.form.on('${1:DocType}', {",
      "    refresh(frm) {",
      "        frm.add_custom_button('${2:Button Label}', () => {",
      "            frappe.msgprint('${3:Button Clicked}');",
      "        });",
      "    }",
      "});"
    ],
    "description": "Add a custom button on form"
  },
  "Frappe Python DB Set Value": {
        "prefix": "frappe-dbset",
        "body": [
            "",
            "@frappe.whitelist()",
            "def set_${1:doctype}_${2:field}(${3:name}, ${4:value}):",
            "    frappe.db.set_value('${1:doctype}', ${3:name}, '${2:field}', ${4:value})",
            "    return 'Value updated successfully'"
        ],
        "description": "Set a field value in the database directly"
    }
    
}